!function(){function t(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||e(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){if(t){if("string"==typeof t)return r(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"3/ER":function(t,e,r){"use strict";(function(t){var o=r("Ju5/"),n="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=n&&"object"==typeof t&&t&&!t.nodeType&&t,i=a&&a.exports===n?o.a.Buffer:void 0,s=i?i.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var r=t.length,o=s?s(r):new t.constructor(r);return t.copy(o),o}}).call(this,r("3UD+")(t))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"8Rk9":function(r,n,i){"use strict";i.r(n),i.d(n,"ReportModule",function(){return Be});var s=i("ofXK"),c=i("fXoL"),u=i("2Vo4"),l=function(t,e){return t===e||t!=t&&e!=e},h=function(t,e){for(var r=t.length;r--;)if(l(t[r][0],e))return r;return-1},d=Array.prototype.splice;function f(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}f.prototype.clear=function(){this.__data__=[],this.size=0},f.prototype.delete=function(t){var e=this.__data__,r=h(e,t);return!(r<0||(r==e.length-1?e.pop():d.call(e,r,1),--this.size,0))},f.prototype.get=function(t){var e=this.__data__,r=h(e,t);return r<0?void 0:e[r][1]},f.prototype.has=function(t){return h(this.__data__,t)>-1},f.prototype.set=function(t,e){var r=this.__data__,o=h(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this};var p,b=f,y=i("Ju5/"),v=y.a.Symbol,g=Object.prototype,j=g.hasOwnProperty,C=g.toString,m=v?v.toStringTag:void 0,_=Object.prototype.toString,k=v?v.toStringTag:void 0,O=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":k&&k in Object(t)?function(t){var e=j.call(t,m),r=t[m];try{t[m]=void 0;var o=!0}catch(a){}var n=C.call(t);return o&&(e?t[m]=r:delete t[m]),n}(t):function(t){return _.call(t)}(t)},w=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},D=function(t){if(!w(t))return!1;var e=O(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},A=y.a["__core-js_shared__"],B=(p=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+p:"",x=Function.prototype.toString,S=function(t){if(null!=t){try{return x.call(t)}catch(e){}try{return t+""}catch(e){}}return""},E=/^\[object .+?Constructor\]$/,M=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),H=function(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!w(t)||(e=t,B&&B in e))&&(D(t)?M:E).test(S(t));var e}(r)?r:void 0},U=H(y.a,"Map"),L=H(Object,"create"),R=Object.prototype.hasOwnProperty,T=Object.prototype.hasOwnProperty;function P(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}P.prototype.clear=function(){this.__data__=L?L(null):{},this.size=0},P.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},P.prototype.get=function(t){var e=this.__data__;if(L){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return R.call(e,t)?e[t]:void 0},P.prototype.has=function(t){var e=this.__data__;return L?void 0!==e[t]:T.call(e,t)},P.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=L&&void 0===e?"__lodash_hash_undefined__":e,this};var I=P,z=function(t,e){var r,o,n=t.__data__;return("string"==(o=typeof(r=e))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==r:null===r)?n["string"==typeof e?"string":"hash"]:n.map};function W(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}W.prototype.clear=function(){this.size=0,this.__data__={hash:new I,map:new(U||b),string:new I}},W.prototype.delete=function(t){var e=z(this,t).delete(t);return this.size-=e?1:0,e},W.prototype.get=function(t){return z(this,t).get(t)},W.prototype.has=function(t){return z(this,t).has(t)},W.prototype.set=function(t,e){var r=z(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this};var F=W;function q(t){var e=this.__data__=new b(t);this.size=e.size}q.prototype.clear=function(){this.__data__=new b,this.size=0},q.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},q.prototype.get=function(t){return this.__data__.get(t)},q.prototype.has=function(t){return this.__data__.has(t)},q.prototype.set=function(t,e){var r=this.__data__;if(r instanceof b){var o=r.__data__;if(!U||o.length<199)return o.push([t,e]),this.size=++r.size,this;r=this.__data__=new F(o)}return r.set(t,e),this.size=r.size,this};var V=q,J=function(){try{var t=H(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),$=function(t,e,r){"__proto__"==e&&J?J(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},N=Object.prototype.hasOwnProperty,Y=function(t,e,r){var o=t[e];N.call(t,e)&&l(o,r)&&(void 0!==r||e in t)||$(t,e,r)},Q=function(t,e,r,o){var n=!r;r||(r={});for(var a=-1,i=e.length;++a<i;){var s=e[a],c=o?o(r[s],t[s],s,r,t):void 0;void 0===c&&(c=t[s]),n?$(r,s,c):Y(r,s,c)}return r},X=function(t){return null!=t&&"object"==typeof t},K=function(t){return X(t)&&"[object Arguments]"==O(t)},G=Object.prototype,Z=G.hasOwnProperty,tt=G.propertyIsEnumerable,et=K(function(){return arguments}())?K:function(t){return X(t)&&Z.call(t,"callee")&&!tt.call(t,"callee")},rt=Array.isArray,ot=i("WOAq"),nt=/^(?:0|[1-9]\d*)$/,at=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&nt.test(t))&&t>-1&&t%1==0&&t<e},it=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},st={};st["[object Float32Array]"]=st["[object Float64Array]"]=st["[object Int8Array]"]=st["[object Int16Array]"]=st["[object Int32Array]"]=st["[object Uint8Array]"]=st["[object Uint8ClampedArray]"]=st["[object Uint16Array]"]=st["[object Uint32Array]"]=!0,st["[object Arguments]"]=st["[object Array]"]=st["[object ArrayBuffer]"]=st["[object Boolean]"]=st["[object DataView]"]=st["[object Date]"]=st["[object Error]"]=st["[object Function]"]=st["[object Map]"]=st["[object Number]"]=st["[object Object]"]=st["[object RegExp]"]=st["[object Set]"]=st["[object String]"]=st["[object WeakMap]"]=!1;var ct=function(t){return function(e){return t(e)}},ut=i("xutz"),lt=ut.a&&ut.a.isTypedArray,ht=lt?ct(lt):function(t){return X(t)&&it(t.length)&&!!st[O(t)]},dt=Object.prototype.hasOwnProperty,ft=function(t,e){var r=rt(t),o=!r&&et(t),n=!r&&!o&&Object(ot.a)(t),a=!r&&!o&&!n&&ht(t),i=r||o||n||a,s=i?function(t,e){for(var r=-1,o=Array(t);++r<t;)o[r]=e(r);return o}(t.length,String):[],c=s.length;for(var u in t)!e&&!dt.call(t,u)||i&&("length"==u||n&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||at(u,c))||s.push(u);return s},pt=Object.prototype,bt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||pt)},yt=function(t,e){return function(r){return t(e(r))}},vt=yt(Object.keys,Object),gt=Object.prototype.hasOwnProperty,jt=function(t){return null!=t&&it(t.length)&&!D(t)},Ct=function(t){return jt(t)?ft(t):function(t){if(!bt(t))return vt(t);var e=[];for(var r in Object(t))gt.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)},mt=Object.prototype.hasOwnProperty,_t=function(t){return jt(t)?ft(t,!0):function(t){if(!w(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=bt(t),r=[];for(var o in t)("constructor"!=o||!e&&mt.call(t,o))&&r.push(o);return r}(t)},kt=i("3/ER"),Ot=function(){return[]},wt=Object.prototype.propertyIsEnumerable,Dt=Object.getOwnPropertySymbols,At=Dt?function(t){return null==t?[]:(t=Object(t),function(e,r){for(var o=-1,n=null==e?0:e.length,a=0,i=[];++o<n;){var s=e[o];wt.call(t,s)&&(i[a++]=s)}return i}(Dt(t)))}:Ot,Bt=function(t,e){for(var r=-1,o=e.length,n=t.length;++r<o;)t[n+r]=e[r];return t},xt=yt(Object.getPrototypeOf,Object),St=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Bt(e,At(t)),t=xt(t);return e}:Ot,Et=function(t,e,r){var o=e(t);return rt(t)?o:Bt(o,r(t))},Mt=function(t){return Et(t,Ct,At)},Ht=function(t){return Et(t,_t,St)},Ut=H(y.a,"DataView"),Lt=H(y.a,"Promise"),Rt=H(y.a,"Set"),Tt=H(y.a,"WeakMap"),Pt=S(Ut),It=S(U),zt=S(Lt),Wt=S(Rt),Ft=S(Tt),qt=O;(Ut&&"[object DataView]"!=qt(new Ut(new ArrayBuffer(1)))||U&&"[object Map]"!=qt(new U)||Lt&&"[object Promise]"!=qt(Lt.resolve())||Rt&&"[object Set]"!=qt(new Rt)||Tt&&"[object WeakMap]"!=qt(new Tt))&&(qt=function(t){var e=O(t),r="[object Object]"==e?t.constructor:void 0,o=r?S(r):"";if(o)switch(o){case Pt:return"[object DataView]";case It:return"[object Map]";case zt:return"[object Promise]";case Wt:return"[object Set]";case Ft:return"[object WeakMap]"}return e});var Vt=qt,Jt=Object.prototype.hasOwnProperty,$t=y.a.Uint8Array,Nt=function(t){var e=new t.constructor(t.byteLength);return new $t(e).set(new $t(t)),e},Yt=/\w*$/,Qt=v?v.prototype:void 0,Xt=Qt?Qt.valueOf:void 0,Kt=Object.create,Gt=function(){function t(){}return function(e){if(!w(e))return{};if(Kt)return Kt(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),Zt=ut.a&&ut.a.isMap,te=Zt?ct(Zt):function(t){return X(t)&&"[object Map]"==Vt(t)},ee=ut.a&&ut.a.isSet,re=ee?ct(ee):function(t){return X(t)&&"[object Set]"==Vt(t)},oe={};oe["[object Arguments]"]=oe["[object Array]"]=oe["[object ArrayBuffer]"]=oe["[object DataView]"]=oe["[object Boolean]"]=oe["[object Date]"]=oe["[object Float32Array]"]=oe["[object Float64Array]"]=oe["[object Int8Array]"]=oe["[object Int16Array]"]=oe["[object Int32Array]"]=oe["[object Map]"]=oe["[object Number]"]=oe["[object Object]"]=oe["[object RegExp]"]=oe["[object Set]"]=oe["[object String]"]=oe["[object Symbol]"]=oe["[object Uint8Array]"]=oe["[object Uint8ClampedArray]"]=oe["[object Uint16Array]"]=oe["[object Uint32Array]"]=!0,oe["[object Error]"]=oe["[object Function]"]=oe["[object WeakMap]"]=!1;var ne=function t(e,r,o,n,a,i){var s,c=1&r,u=2&r,l=4&r;if(o&&(s=a?o(e,n,a,i):o(e)),void 0!==s)return s;if(!w(e))return e;var h=rt(e);if(h){if(s=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Jt.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(e),!c)return function(t,e){var r=-1,o=t.length;for(e||(e=Array(o));++r<o;)e[r]=t[r];return e}(e,s)}else{var d=Vt(e),f="[object Function]"==d||"[object GeneratorFunction]"==d;if(Object(ot.a)(e))return Object(kt.a)(e,c);if("[object Object]"==d||"[object Arguments]"==d||f&&!a){if(s=u||f?{}:function(t){return"function"!=typeof t.constructor||bt(t)?{}:Gt(xt(t))}(e),!c)return u?function(t,e){return Q(t,St(t),e)}(e,function(t,e){return t&&Q(e,_t(e),t)}(s,e)):function(t,e){return Q(t,At(t),e)}(e,function(t,e){return t&&Q(e,Ct(e),t)}(s,e))}else{if(!oe[d])return a?e:{};s=function(t,e,r){var o,n,a=t.constructor;switch(e){case"[object ArrayBuffer]":return Nt(t);case"[object Boolean]":case"[object Date]":return new a(+t);case"[object DataView]":return function(t,e){var r=e?Nt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var r=e?Nt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,r);case"[object Map]":return new a;case"[object Number]":case"[object String]":return new a(t);case"[object RegExp]":return(n=new(o=t).constructor(o.source,Yt.exec(o))).lastIndex=o.lastIndex,n;case"[object Set]":return new a;case"[object Symbol]":return Xt?Object(Xt.call(t)):{}}}(e,d,c)}}i||(i=new V);var p=i.get(e);if(p)return p;i.set(e,s),re(e)?e.forEach(function(n){s.add(t(n,r,o,n,e,i))}):te(e)&&e.forEach(function(n,a){s.set(a,t(n,r,o,a,e,i))});var b=h?void 0:(l?u?Ht:Mt:u?_t:Ct)(e);return function(t,e){for(var r=-1,o=null==t?0:t.length;++r<o&&!1!==e(t[r],r););}(b||e,function(n,a){b&&(n=e[a=n]),Y(s,a,t(n,r,o,a,e,i))}),s},ae=i("MO+k"),ie=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]];function se(t,e){return"rgba("+t.concat(e).join(",")+")"}function ce(t,e){return Math.floor(Math.random()*(e-t+1))+t}function ue(t){return{backgroundColor:t.map(function(t){return se(t,.6)}),borderColor:t.map(function(){return"#fff"}),pointBackgroundColor:t.map(function(t){return se(t,1)}),pointBorderColor:t.map(function(){return"#fff"}),pointHoverBackgroundColor:t.map(function(t){return se(t,1)}),pointHoverBorderColor:t.map(function(t){return se(t,1)})}}function le(){return[ce(0,255),ce(0,255),ce(0,255)]}function he(t){return ie[t]||le()}function de(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=ie[r]||le();return e}var fe,pe=((fe=function(){function t(){o(this,t),this.pColorschemesOptions={},this.colorschemesOptions=new u.a({})}return a(t,[{key:"setColorschemesOptions",value:function(t){this.pColorschemesOptions=t,this.colorschemesOptions.next(t)}},{key:"getColorschemesOptions",value:function(){return this.pColorschemesOptions}}]),t}()).\u0275fac=function(t){return new(t||fe)},fe.\u0275prov=Object(c.Rb)({factory:function(){return new fe},token:fe,providedIn:"root"}),fe),be={Default:0,Update:1,Refresh:2};be[be.Default]="Default",be[be.Update]="Update",be[be.Refresh]="Refresh";var ye,ve,ge=((ve=function(){function e(t,r){o(this,e),this.element=t,this.themeService=r,this.options={},this.chartClick=new c.q,this.chartHover=new c.q,this.old={dataExists:!1,dataLength:0,datasetsExists:!1,datasetsLength:0,datasetsDataObjects:[],datasetsDataLengths:[],colorsExists:!1,colors:[],labelsExist:!1,labels:[],legendExists:!1,legend:{}},this.subs=[]}return a(e,[{key:"ngOnInit",value:function(){var t=this;this.ctx=this.element.nativeElement.getContext("2d"),this.refresh(),this.subs.push(this.themeService.colorschemesOptions.subscribe(function(e){return t.themeChanged(e)}))}},{key:"themeChanged",value:function(t){this.refresh()}},{key:"ngDoCheck",value:function(){var t=this;if(this.chart){var e=be.Default,r=function(t){e=t>e?t:e};switch(!!this.data!==this.old.dataExists&&(this.propagateDataToDatasets(this.data),this.old.dataExists=!!this.data,r(be.Update)),this.data&&this.data.length!==this.old.dataLength&&(this.old.dataLength=this.data&&this.data.length||0,r(be.Update)),!!this.datasets!==this.old.datasetsExists&&(this.old.datasetsExists=!!this.datasets,r(be.Update)),this.datasets&&this.datasets.length!==this.old.datasetsLength&&(this.old.datasetsLength=this.datasets&&this.datasets.length||0,r(be.Update)),this.datasets&&this.datasets.filter(function(e,r){return e.data!==t.old.datasetsDataObjects[r]}).length&&(this.old.datasetsDataObjects=this.datasets.map(function(t){return t.data}),r(be.Update)),this.datasets&&this.datasets.filter(function(e,r){return e.data.length!==t.old.datasetsDataLengths[r]}).length&&(this.old.datasetsDataLengths=this.datasets.map(function(t){return t.data.length}),r(be.Update)),!!this.colors!==this.old.colorsExists&&(this.old.colorsExists=!!this.colors,this.updateColors(),r(be.Update)),this.colors&&this.colors.filter(function(e,r){return!t.colorsEqual(e,t.old.colors[r])}).length&&(this.old.colors=this.colors.map(function(e){return t.copyColor(e)}),this.updateColors(),r(be.Update)),!!this.labels!==this.old.labelsExist&&(this.old.labelsExist=!!this.labels,r(be.Update)),this.labels&&this.labels.filter(function(e,r){return!t.labelsEqual(e,t.old.labels[r])}).length&&(this.old.labels=this.labels.map(function(e){return t.copyLabel(e)}),r(be.Update)),!!this.options.legend!==this.old.legendExists&&(this.old.legendExists=!!this.options.legend,r(be.Refresh)),this.options.legend&&this.options.legend.position!==this.old.legend.position&&(this.old.legend.position=this.options.legend.position,r(be.Refresh)),e){case be.Default:break;case be.Update:this.update();break;case be.Refresh:this.refresh()}}}},{key:"copyLabel",value:function(e){return Array.isArray(e)?t(e):e}},{key:"labelsEqual",value:function(t,e){return Array.isArray(t)===Array.isArray(e)&&(Array.isArray(t)||t===e)&&(!Array.isArray(t)||t.length===e.length)&&(!Array.isArray(t)||0===t.filter(function(t,r){return t!==e[r]}).length)}},{key:"copyColor",value:function(t){return{backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderColor:t.borderColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,pointBorderColor:t.pointBorderColor,pointBackgroundColor:t.pointBackgroundColor,pointBorderWidth:t.pointBorderWidth,pointRadius:t.pointRadius,pointHoverRadius:t.pointHoverRadius,pointHitRadius:t.pointHitRadius,pointHoverBackgroundColor:t.pointHoverBackgroundColor,pointHoverBorderColor:t.pointHoverBorderColor,pointHoverBorderWidth:t.pointHoverBorderWidth,pointStyle:t.pointStyle,hoverBackgroundColor:t.hoverBackgroundColor,hoverBorderColor:t.hoverBorderColor,hoverBorderWidth:t.hoverBorderWidth}}},{key:"colorsEqual",value:function(t,e){return!t==!e&&(!t||t.backgroundColor===e.backgroundColor&&t.borderWidth===e.borderWidth&&t.borderColor===e.borderColor&&t.borderCapStyle===e.borderCapStyle&&t.borderDash===e.borderDash&&t.borderDashOffset===e.borderDashOffset&&t.borderJoinStyle===e.borderJoinStyle&&t.pointBorderColor===e.pointBorderColor&&t.pointBackgroundColor===e.pointBackgroundColor&&t.pointBorderWidth===e.pointBorderWidth&&t.pointRadius===e.pointRadius&&t.pointHoverRadius===e.pointHoverRadius&&t.pointHitRadius===e.pointHitRadius&&t.pointHoverBackgroundColor===e.pointHoverBackgroundColor&&t.pointHoverBorderColor===e.pointHoverBorderColor&&t.pointHoverBorderWidth===e.pointHoverBorderWidth&&t.pointStyle===e.pointStyle&&t.hoverBackgroundColor===e.hoverBackgroundColor&&t.hoverBorderColor===e.hoverBorderColor&&t.hoverBorderWidth===e.hoverBorderWidth)}},{key:"updateColors",value:function(){var t=this;this.datasets.forEach(function(e,r){t.colors&&t.colors[r]?Object.assign(e,t.colors[r]):Object.assign(e,function(t,e,r){if("pie"===t||"doughnut"===t)return ue(de(r));if("polarArea"===t)return{backgroundColor:(o=de(r)).map(function(t){return se(t,.6)}),borderColor:o.map(function(t){return se(t,1)}),hoverBackgroundColor:o.map(function(t){return se(t,.8)}),hoverBorderColor:o.map(function(t){return se(t,1)})};var o;if("line"===t||"radar"===t)return function(t){return{backgroundColor:se(t,.4),borderColor:se(t,1),pointBackgroundColor:se(t,1),pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:se(t,.8)}}(he(e));if("bar"===t||"horizontalBar"===t)return function(t){return{backgroundColor:se(t,.6),borderColor:se(t,1),hoverBackgroundColor:se(t,.8),hoverBorderColor:se(t,1)}}(he(e));if("bubble"===t)return ue(de(r));if("scatter"===t)return ue(de(r));throw new Error("getColors - Unsupported chart type ".concat(t))}(t.chartType,r,e.data.length),Object.assign({},e))})}},{key:"ngOnChanges",value:function(t){var e=be.Default,r=function(t){e=t>e?t:e};switch(t.hasOwnProperty("data")&&t.data.currentValue&&(this.propagateDataToDatasets(t.data.currentValue),r(be.Update)),t.hasOwnProperty("datasets")&&t.datasets.currentValue&&(this.propagateDatasetsToData(t.datasets.currentValue),r(be.Update)),t.hasOwnProperty("labels")&&(this.chart&&(this.chart.data.labels=t.labels.currentValue),r(be.Update)),t.hasOwnProperty("legend")&&(this.chart&&(this.chart.config.options.legend.display=t.legend.currentValue,this.chart.generateLegend()),r(be.Update)),t.hasOwnProperty("options")&&r(be.Refresh),e){case be.Update:this.update();break;case be.Refresh:case be.Default:this.refresh()}}},{key:"ngOnDestroy",value:function(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(function(t){return t.unsubscribe()})}},{key:"update",value:function(t){if(this.chart)return this.chart.update(t)}},{key:"hideDataset",value:function(t,e){this.chart.getDatasetMeta(t).hidden=e,this.chart.update()}},{key:"isDatasetHidden",value:function(t){return this.chart.getDatasetMeta(t).hidden}},{key:"toBase64Image",value:function(){return this.chart.toBase64Image()}},{key:"getChartConfiguration",value:function(){var t=this,e=this.getDatasets(),r=Object.assign({},this.options);!1===this.legend&&(r.legend={display:!1}),r.hover=r.hover||{},r.hover.onHover||(r.hover.onHover=function(e,r){r&&!r.length||t.chartHover.emit({event:e,active:r})}),r.onClick||(r.onClick=function(e,r){t.chartClick.emit({event:e,active:r})});var o=this.smartMerge(r,this.themeService.getColorschemesOptions());return{type:this.chartType,data:{labels:this.labels||[],datasets:e},plugins:this.plugins,options:o}}},{key:"getChartBuilder",value:function(t){var e=this.getChartConfiguration();return new ae.Chart(t,e)}},{key:"smartMerge",value:function(t,e){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===o&&(t=ne(t,5)),Object.keys(e).forEach(function(n){if(Array.isArray(e[n])){var a=t[n];a&&a.forEach(function(t){r.smartMerge(t,e[n][0],o+1)})}else"object"==typeof e[n]?(n in t||(t[n]={}),r.smartMerge(t[n],e[n],o+1)):t[n]=e[n]}),0===o)return t}},{key:"isMultiLineLabel",value:function(t){return Array.isArray(t)}},{key:"joinLabel",value:function(t){return t?this.isMultiLineLabel(t)?t.join(" "):t:null}},{key:"propagateDatasetsToData",value:function(t){this.data=this.datasets.map(function(t){return t.data}),this.chart&&(this.chart.data.datasets=t),this.updateColors()}},{key:"propagateDataToDatasets",value:function(t){var e=this;this.isMultiDataSet(t)?this.datasets&&t.length===this.datasets.length?this.datasets.forEach(function(e,r){e.data=t[r]}):(this.datasets=t.map(function(t,r){return{data:t,label:e.joinLabel(e.labels[r])||"Label ".concat(r)}}),this.chart&&(this.chart.data.datasets=this.datasets)):this.datasets?(this.datasets[0]||(this.datasets[0]={}),this.datasets[0].data=t,this.datasets.splice(1)):(this.datasets=[{data:t}],this.chart&&(this.chart.data.datasets=this.datasets)),this.updateColors()}},{key:"isMultiDataSet",value:function(t){return Array.isArray(t[0])}},{key:"getDatasets",value:function(){if(!this.datasets&&!this.data)throw new Error("ng-charts configuration error, data or datasets field are required to render chart ".concat(this.chartType));return this.datasets?(this.propagateDatasetsToData(this.datasets),this.datasets):this.data?(this.propagateDataToDatasets(this.data),this.datasets):void 0}},{key:"refresh",value:function(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.ctx&&(this.chart=this.getChartBuilder(this.ctx))}}],[{key:"registerPlugin",value:function(t){ae.pluginService.register(t)}},{key:"unregisterPlugin",value:function(t){ae.pluginService.unregister(t)}}]),e}()).\u0275fac=function(t){return new(t||ve)(c.Vb(c.o),c.Vb(pe))},ve.\u0275dir=c.Qb({type:ve,selectors:[["canvas","baseChart",""]],inputs:{options:"options",data:"data",datasets:"datasets",labels:"labels",chartType:"chartType",colors:"colors",legend:"legend",plugins:"plugins"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[c.Hb]}),ve),je=((ye=function t(){o(this,t)}).\u0275fac=function(t){return new(t||ye)},ye.\u0275mod=c.Tb({type:ye}),ye.\u0275inj=c.Sb({imports:[[]]}),ye),Ce=i("cplz");function me(t,e){if(1&t){var r=c.cc();c.bc(0,"div",15),c.bc(1,"canvas",16),c.ic("chartHover",function(t){return c.Ec(r),c.kc().chartHovered(t)})("chartClick",function(t){return c.Ec(r),c.kc().chartClicked(t)}),c.ac(),c.ac()}if(2&t){var o=c.kc();c.Jb(1),c.qc("datasets",o.lineChartData)("labels",o.lineChartLabels)("options",o.lineChartOptions)("colors",o.lineChartColors)("legend",o.lineChartLegend)("chartType",o.lineChartType)}}function _e(t,e){if(1&t&&(c.bc(0,"tr"),c.bc(1,"td"),c.Mc(2),c.lc(3,"date"),c.ac(),c.bc(4,"td"),c.Mc(5),c.lc(6,"number"),c.ac(),c.bc(7,"td"),c.Mc(8),c.lc(9,"number"),c.ac(),c.ac()),2&t){var r=e.$implicit;c.Jb(2),c.Nc(c.nc(3,3,r.Date,"DD/MM/YYYY")),c.Jb(3),c.Oc("",c.mc(6,6,r.Revenues)," VND"),c.Jb(3),c.Oc("",c.mc(9,8,r.Benefit)," VND")}}function ke(t,e){if(1&t&&(c.bc(0,"table",17),c.bc(1,"tr"),c.bc(2,"th"),c.Mc(3,"Ng\xe0y"),c.ac(),c.bc(4,"th"),c.Mc(5,"Doanh thu"),c.ac(),c.bc(6,"th"),c.Mc(7,"L\u1ee3i nhu\u1eadn"),c.ac(),c.ac(),c.Kc(8,_e,10,10,"tr",18),c.ac()),2&t){var r=c.kc();c.Jb(8),c.qc("ngForOf",r.tableData)}}var Oe,we,De=((Oe=function(){function t(e){o(this,t),this._dataService=e,this.fromDate="",this.toDate="",this.lineChartData=[{data:[],label:"L\u1ee3i nhu\u1eadn"},{data:[],label:"Doanh thu"}],this.lineChartLabels=[],this.lineChartOptions={responsive:!0},this.lineChartColors=[{backgroundColor:"rgba(148,159,177,0.2)",borderColor:"rgba(148,159,177,1)",pointBackgroundColor:"rgba(148,159,177,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(148,159,177,0.8)"},{backgroundColor:"rgba(77,83,96,0.2)",borderColor:"rgba(77,83,96,1)",pointBackgroundColor:"rgba(77,83,96,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(77,83,96,1)"},{backgroundColor:"rgba(148,159,177,0.2)",borderColor:"rgba(148,159,177,1)",pointBackgroundColor:"rgba(148,159,177,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(148,159,177,0.8)"}],this.lineChartLegend=!0,this.lineChartType="line"}return a(t,[{key:"chartClicked",value:function(t){console.log(t)}},{key:"chartHovered",value:function(t){console.log(t)}},{key:"ngOnInit",value:function(){this.loadRevenues()}},{key:"refreshChart",value:function(){var t=this;setTimeout(function(){t.chart&&t.chart.chart&&t.chart.chart.config&&(t.chart.chart.config.data.labels=t.lineChartLabels,t.chart.chart.config.data.datasets=t.lineChartData,t.chart.chart.update())})}},{key:"loadRevenues",value:function(){var t=this;this._dataService.get("/statistic/getrevenue?fromDate="+this.fromDate+"&toDate="+this.toDate).subscribe(function(r){t.lineChartLabels=[],t.lineChartData=[];var o={data:[],label:"Doanh thu"},n={data:[],label:"L\u1ee3i nhu\u1eadn"};t.tableData=[];var a,i=function(t,r){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=e(t))||r&&t&&"number"==typeof t.length){o&&(t=o);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return s=t.done,t},e:function(t){c=!0,i=t},f:function(){try{s||null==o.return||o.return()}finally{if(c)throw i}}}}(r);try{for(i.s();!(a=i.n()).done;){var s=a.value;o.data.push(s.Benefit),n.data.push(s.Revenues),t.lineChartLabels.push(moment(s.Date).format("DD/MM/YYYY")),t.tableData=r}}catch(c){i.e(c)}finally{i.f()}t.lineChartData.push(o),t.lineChartData.push(n),t.refreshChart()})}}]),t}()).\u0275fac=function(t){return new(t||Oe)(c.Vb(Ce.a))},Oe.\u0275cmp=c.Pb({type:Oe,selectors:[["app-revenue"]],viewQuery:function(t,e){var r;1&t&&c.Qc(ge,1),2&t&&c.zc(r=c.jc())&&(e.chart=r.first)},decls:19,vars:2,consts:[[1,"page-title"],[1,"title_left"],[1,"title_right"],[1,"col-md-5","col-sm-5","col-xs-12","form-group","pull-right","top_search"],[1,"input-group"],["type","text","placeholder","Search for...",1,"form-control"],[1,"input-group-btn"],["type","button",1,"btn","btn-default"],[1,"clearfix"],[1,"row"],[1,"col-md-6"],["style","display:block;",4,"ngIf"],[1,"col-md-6",2,"margin-bottom","10px"],["class","table table-responsive table-condensed",4,"ngIf"],[3,"click"],[2,"display","block"],["baseChart","","width","400","height","400",3,"datasets","labels","options","colors","legend","chartType","chartHover","chartClick"],[1,"table","table-responsive","table-condensed"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(c.bc(0,"div",0),c.bc(1,"div",1),c.bc(2,"h3"),c.Mc(3,"Th\u1ed1ng k\xea doanh thu"),c.ac(),c.ac(),c.bc(4,"div",2),c.bc(5,"div",3),c.bc(6,"div",4),c.Wb(7,"input",5),c.bc(8,"span",6),c.bc(9,"button",7),c.Mc(10,"Go!"),c.ac(),c.ac(),c.ac(),c.ac(),c.ac(),c.ac(),c.Wb(11,"div",8),c.bc(12,"div",9),c.bc(13,"div",10),c.Kc(14,me,2,6,"div",11),c.ac(),c.bc(15,"div",12),c.Kc(16,ke,9,1,"table",13),c.bc(17,"button",14),c.ic("click",function(){return e.loadRevenues()}),c.Mc(18,"T\u1ea3i l\u1ea1i s\u1ed1 li\u1ec7u"),c.ac(),c.ac(),c.ac()),2&t&&(c.Jb(14),c.qc("ngIf",e.lineChartData&&e.lineChartLabels),c.Jb(2),c.qc("ngIf",e.lineChartData&&e.lineChartLabels))},directives:[s.m,ge,s.l],pipes:[s.e,s.f],styles:[""]}),Oe),Ae=i("tyNb").f.forChild([{path:"",redirectTo:"index",pathMatch:"full"},{path:"index",component:De},{path:"revenue",component:De}]),Be=((we=function t(){o(this,t)}).\u0275fac=function(t){return new(t||we)},we.\u0275mod=c.Tb({type:we}),we.\u0275inj=c.Sb({imports:[[s.c,Ae,je]]}),we)},"Ju5/":function(t,e,r){"use strict";var o=r("XqMk"),n="object"==typeof self&&self&&self.Object===Object&&self,a=o.a||n||Function("return this")();e.a=a},L3Qv:function(t,e,r){"use strict";e.a=function(){return!1}},WOAq:function(t,e,r){"use strict";(function(t){var o=r("Ju5/"),n=r("L3Qv"),a="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=a&&"object"==typeof t&&t&&!t.nodeType&&t,s=i&&i.exports===a?o.a.Buffer:void 0;e.a=(s?s.isBuffer:void 0)||n.a}).call(this,r("3UD+")(t))},XqMk:function(t,e,r){"use strict";var o="object"==typeof global&&global&&global.Object===Object&&global;e.a=o},xutz:function(t,e,r){"use strict";(function(t){var o=r("XqMk"),n="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=n&&"object"==typeof t&&t&&!t.nodeType&&t,i=a&&a.exports===n&&o.a.process,s=function(){try{return a&&a.require&&a.require("util").types||i&&i.binding&&i.binding("util")}catch(t){}}();e.a=s}).call(this,r("3UD+")(t))}}])}();