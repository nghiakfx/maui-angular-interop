!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,i){if(!e)return;if("string"==typeof e)return t(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,i)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{HoCe:function(t,n,c){"use strict";c.d(n,"b",function(){return z}),c.d(n,"a",function(){return F});var o=c("fXoL"),l=c("3Pt+"),r=c("XNiG"),a=c("1G5W"),d=c("ofXK");function h(e,t){if(1&e){var i=o.cc();o.bc(0,"div",18),o.bc(1,"button",19),o.ic("click",function(e){return o.Ec(i),o.kc(3).clearSearch(e)}),o.Wb(2,"i",20),o.ac(),o.ac()}}function u(e,t){if(1&e&&(o.bc(0,"div",12),o.bc(1,"div",13),o.bc(2,"span",14),o.Wb(3,"i",15),o.ac(),o.ac(),o.Wb(4,"input",16),o.Kc(5,h,3,0,"div",17),o.ac()),2&e){var i=o.kc(2);o.Jb(4),o.qc("formControl",i.filterControl)("placeholder",i.texts.searchPlaceholder),o.Jb(1),o.qc("ngIf",i.filterControl.value.length>0)}}var f=function(e,t){return{"glyphicon glyphicon-ok":e,"fa fa-check":t}};function p(e,t){if(1&e){var i=o.cc();o.bc(0,"a",21),o.ic("click",function(){return o.Ec(i),o.kc(2).checkAll()}),o.bc(1,"span",22),o.Wb(2,"span",23),o.ac(),o.Mc(3),o.ac()}if(2&e){var n=o.kc(2);o.Jb(2),o.qc("ngClass",o.vc(2,f,"fontawesome"!==n.settings.checkedStyle,"fontawesome"===n.settings.checkedStyle)),o.Jb(1),o.Oc(" ",n.texts.checkAll," ")}}var g=function(e,t){return{"glyphicon glyphicon-remove":e,"fa fa-times":t}};function m(e,t){if(1&e){var i=o.cc();o.bc(0,"a",24),o.ic("click",function(){return o.Ec(i),o.kc(2).uncheckAll()}),o.bc(1,"span",22),o.Wb(2,"span",23),o.ac(),o.Mc(3),o.ac()}if(2&e){var n=o.kc(2);o.Jb(2),o.qc("ngClass",o.vc(2,g,"fontawesome"!==n.settings.checkedStyle,"fontawesome"===n.settings.checkedStyle)),o.Jb(1),o.Oc(" ",n.texts.uncheckAll," ")}}function k(e,t){1&e&&o.Wb(0,"a",25)}function b(e,t){if(1&e&&(o.bc(0,"a",26),o.Mc(1),o.ac()),2&e){var i=o.kc(2);o.Jb(1),o.Nc(i.texts.searchNoRenderText)}}function v(e,t){if(1&e&&(o.bc(0,"a",26),o.Mc(1),o.ac()),2&e){var i=o.kc(2);o.Jb(1),o.Nc(i.texts.searchEmptyResult)}}function y(e,t){if(1&e){var i=o.cc();o.bc(0,"input",36),o.ic("click",function(e){o.Ec(i);var t=o.kc(2).$implicit;return o.kc(2).preventCheckboxCheck(e,t)}),o.ac()}if(2&e){var n=o.kc(2).$implicit,s=o.kc(2);o.qc("checked",s.isSelected(n))("disabled",s.isCheckboxDisabled(n))("ngStyle",s.getItemStyleSelectionDisabled())}}function w(e,t){if(1&e&&o.Wb(0,"span",37),2&e){var i=o.kc(2).$implicit,n=o.kc(2);o.Nb("glyphicon-ok",n.isSelected(i))("glyphicon-lock",n.isCheckboxDisabled(i))}}function C(e,t){1&e&&(o.bc(0,"span"),o.Wb(1,"i",40),o.ac())}function S(e,t){1&e&&(o.bc(0,"span"),o.Wb(1,"i",41),o.ac())}function x(e,t){if(1&e&&(o.bc(0,"span",38),o.Kc(1,C,2,0,"span",39),o.Kc(2,S,2,0,"span",39),o.ac()),2&e){var i=o.kc(2).$implicit,n=o.kc(2);o.Jb(1),o.qc("ngIf",n.isSelected(i)),o.Jb(1),o.qc("ngIf",n.isCheckboxDisabled(i))}}function O(e,t){if(1&e&&o.Wb(0,"img",46),2&e){var i=o.kc(3).$implicit;o.qc("src",i.image,o.Gc)}}function I(e,t){1&e&&(o.bc(0,"div",47),o.bc(1,"div",48),o.Wb(2,"span",49),o.ac(),o.ac())}var A=function(e){return{slideron:e}};function L(e,t){if(1&e&&(o.bc(0,"span",42),o.bc(1,"div",43),o.Kc(2,O,1,1,"img",44),o.Kc(3,I,3,0,"div",45),o.ac(),o.ac()),2&e){var i=o.kc(2).$implicit,n=o.kc(2);o.Jb(1),o.qc("ngClass",o.uc(3,A,n.isSelected(i))),o.Jb(1),o.qc("ngIf",null!=i.image),o.Jb(1),o.qc("ngIf",null==i.image)}}var _=function(e){return{chunkyrow:e}};function R(e,t){if(1&e&&(o.bc(0,"span",30),o.Zb(1,31),o.Kc(2,y,1,3,"input",32),o.Kc(3,w,1,4,"span",33),o.Kc(4,x,3,2,"span",34),o.Kc(5,L,4,5,"span",35),o.Yb(),o.bc(6,"span",23),o.Mc(7),o.ac(),o.ac()),2&e){var i=o.kc().$implicit,n=o.kc(2);o.Jc("padding-left",n.parents.length>0&&n.parents.indexOf(i.id)<0&&"30px"),o.qc("ngStyle",n.getItemStyleSelectionDisabled()),o.Jb(1),o.qc("ngSwitch",n.settings.checkedStyle),o.Jb(1),o.qc("ngSwitchCase","checkboxes"),o.Jb(1),o.qc("ngSwitchCase","glyphicon"),o.Jb(1),o.qc("ngSwitchCase","fontawesome"),o.Jb(1),o.qc("ngSwitchCase","visual"),o.Jb(1),o.Jc("font-weight",n.parents.indexOf(i.id)>=0?"bold":"normal"),o.Nb("disabled",n.isCheckboxDisabled(i)),o.qc("ngClass",o.uc(15,_,"visual"==n.settings.checkedStyle))("ngClass",n.settings.itemClasses),o.Jb(1),o.Oc(" ",i.name," ")}}function M(e,t){if(1&e&&(o.bc(0,"span"),o.Mc(1),o.ac()),2&e){var i=o.kc().$implicit,n=o.kc(2);o.Nb("disabled",n.isCheckboxDisabled(i)),o.Jb(1),o.Nc(i.name)}}function V(e,t){if(1&e){var i=o.cc();o.bc(0,"a",27),o.ic("click",function(e){o.Ec(i);var n=t.$implicit;return o.kc(2).setSelected(e,n)})("keydown.space",function(e){o.Ec(i);var n=t.$implicit;return o.kc(2).setSelected(e,n)})("keydown.enter",function(e){o.Ec(i);var n=t.$implicit;return o.kc(2).setSelected(e,n)}),o.Kc(1,R,8,17,"span",28),o.Kc(2,M,2,3,"ng-template",null,29,o.Lc),o.ac()}if(2&e){var n=t.$implicit,s=o.Ac(3),c=o.kc(2);o.Nb("active",c.isSelected(n))("dropdown-header",n.isLabel),o.qc("ngStyle",c.getItemStyle(n))("ngClass",n.classes)("ssAutofocus",n!==c.focusedItem),o.Jb(1),o.qc("ngIf",!n.isLabel)("ngIfElse",s)}}var q=function(e){return{"chunkydropdown-menu":e}};function J(e,t){if(1&e){var i=o.cc();o.bc(0,"div",4,5),o.ic("scroll",function(e){o.Ec(i);var t=o.kc();return t.settings.isLazyLoad?t.checkScrollPosition(e):null})("wheel",function(e){o.Ec(i);var t=o.Ac(1),n=o.kc();return n.settings.stopScrollPropagation?n.checkScrollPropagation(e,t):null})("keydown.tab",function(e){return o.Ec(i),o.kc().focusItem(1,e)})("keydown.shift.tab",function(e){return o.Ec(i),o.kc().focusItem(-1,e)}),o.Kc(2,u,6,3,"div",6),o.Kc(3,p,4,5,"a",7),o.Kc(4,m,4,5,"a",8),o.Kc(5,k,1,0,"a",9),o.Kc(6,b,2,1,"a",10),o.Kc(7,v,2,1,"a",10),o.Kc(8,V,4,9,"a",11),o.ac()}if(2&e){var n=o.kc();o.Jc("max-height",n.settings.maxHeight),o.Nb("pull-right",n.settings.pullRight)("dropdown-menu-right",n.settings.pullRight),o.qc("ngClass",o.uc(15,q,"visual"==n.settings.checkedStyle)),o.Jb(2),o.qc("ngIf",n.settings.enableSearch),o.Jb(1),o.qc("ngIf",n.settings.showCheckAll&&!n.disabledSelection),o.Jb(1),o.qc("ngIf",n.settings.showUncheckAll&&!n.disabledSelection),o.Jb(1),o.qc("ngIf",n.settings.showCheckAll||n.settings.showUncheckAll),o.Jb(1),o.qc("ngIf",!n.renderItems),o.Jb(1),o.qc("ngIf",n.renderItems&&!n.renderFilteredOptions.length),o.Jb(1),o.qc("ngForOf",n.renderFilteredOptions)("ngForTrackBy",n.trackById)}}var T=function(){var t=function(){function t(){i(this,t),this._searchCache={},this._searchCacheInclusive={},this._prevSkippedItems={}}return s(t,[{key:"transform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4?arguments[4]:void 0;t=t.toLowerCase(),e!==this._lastOptions&&(this._lastOptions=e,this._searchCache={},this._searchCacheInclusive={},this._prevSkippedItems={});var c=this._searchCache.hasOwnProperty(t)?this._searchCache[t]:this._doSearch(e,t,i,s);return e.length<=i?c:this._limitRenderedItems(c,n)}},{key:"_getSubsetOptions",value:function(t,i,n){var s=this._searchCacheInclusive[n];return!0===s?i:"number"==typeof s?[].concat(e(i),e(t.slice(s))):t}},{key:"_doSearch",value:function(e,t,i,n){var s=t.slice(0,-1),c=this._searchCache[s],o=this._prevSkippedItems[s]||0;c&&(e=this._getSubsetOptions(e,c,s));for(var l=e.length,r=i>0?Math.min(i,l):l,a=n(t),d=[],h=0,u=0,f=0,p=function(e){return a.test(e.name)},g=function(t){return e.filter(function(e){return e.parentId===t.id})},m=function(t){return e.find(function(e){return t.parentId===e.id})},k=function(e){d.push(e),u++},b=c?function(){return f++}:function(){};h<l&&u<r;++h){var v=e[h];if(p(v))k(v);else{if(void 0===v.parentId&&g(v).some(p)){k(v);continue}if(void 0!==v.parentId&&p(m(v))){k(v);continue}b()}}var y=h+o;return this._searchCache[t]=d,this._searchCacheInclusive[t]=h===l||y,this._prevSkippedItems[t]=f+o,d}},{key:"_limitRenderedItems",value:function(e,t){return e.length>t&&t>0?e.slice(0,t):e}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Ub({name:"searchFilter",type:t,pure:!0}),t}(),D=function(){var e=function(){function e(t){i(this,e),this.elemRef=t}return s(e,[{key:"element",get:function(){return this.elemRef.nativeElement}},{key:"ngOnInit",value:function(){this.focus()}},{key:"ngOnChanges",value:function(e){var t=e.ssAutofocus;t&&!t.isFirstChange()&&this.focus()}},{key:"focus",value:function(){this.ssAutofocus||this.element.focus&&this.element.focus()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Vb(o.o,1))},e.\u0275dir=o.Qb({type:e,selectors:[["","ssAutofocus",""]],inputs:{ssAutofocus:"ssAutofocus"},features:[o.Hb]}),e}(),P={provide:l.j,useExisting:Object(o.cb)(function(){return F}),multi:!0},F=function(){var e=function(){function e(t,n,s,c,l){i(this,e),this.element=t,this.fb=n,this.searchFilter=s,this.cdRef=l,this.filterControl=this.fb.control(""),this.disabled=!1,this.disabledSelection=!1,this.searchFunction=this._escapeRegExp,this.selectionLimitReached=new o.q,this.dropdownClosed=new o.q,this.dropdownOpened=new o.q,this.onAdded=new o.q,this.onRemoved=new o.q,this.onLazyLoad=new o.q,this.onFilter=this.filterControl.valueChanges,this.destroyed$=new r.a,this.filteredOptions=[],this.lazyLoadOptions=[],this.renderFilteredOptions=[],this.model=[],this.prevModel=[],this.numSelected=0,this.renderItems=!0,this.checkAllSearchRegister=new Set,this.checkAllStatus=!1,this.loadedValueIds=[],this._focusBack=!1,this.defaultSettings={closeOnClickOutside:!0,pullRight:!1,enableSearch:!1,searchRenderLimit:0,searchRenderAfter:1,searchMaxLimit:0,searchMaxRenderedItems:0,checkedStyle:"checkboxes",buttonClasses:"btn btn-primary dropdown-toggle",containerClasses:"dropdown-inline",selectionLimit:0,minSelectionLimit:0,closeOnSelect:!1,autoUnselect:!1,showCheckAll:!1,showUncheckAll:!1,fixedTitle:!1,dynamicTitleMaxItems:3,maxHeight:"300px",isLazyLoad:!1,stopScrollPropagation:!1,loadViewDistance:1,selectAddedValues:!1,ignoreLabels:!1,maintainSelectionOrderInTitle:!1,focusBack:!0},this.defaultTexts={checkAll:"Check all",uncheckAll:"Uncheck all",checked:"checked",checkedPlural:"checked",searchPlaceholder:"Search...",searchEmptyResult:"Nothing found...",searchNoRenderText:"Type in search box to see results...",defaultTitle:"Select",allSelected:"All selected"},this._isVisible=!1,this._workerDocClicked=!1,this.onModelChange=function(e){},this.onModelTouched=function(){},this.differ=c.find([]).create(null),this.settings=this.defaultSettings,this.texts=this.defaultTexts}return s(e,[{key:"focusBack",get:function(){return this.settings.focusBack&&this._focusBack}},{key:"clickedOutside",value:function(){this.isVisible&&this.settings.closeOnClickOutside&&(this.isVisible=!1,this._focusBack=!0,this.dropdownClosed.emit())}},{key:"isVisible",get:function(){return this._isVisible},set:function(e){this._isVisible=e,this._workerDocClicked=!e&&this._workerDocClicked}},{key:"searchLimit",get:function(){return this.settings.searchRenderLimit}},{key:"searchRenderAfter",get:function(){return this.settings.searchRenderAfter}},{key:"searchLimitApplied",get:function(){return this.searchLimit>0&&this.options.length>this.searchLimit}},{key:"getItemStyle",value:function(e){}},{key:"getItemStyleSelectionDisabled",value:function(){if(this.disabledSelection)return{cursor:"default"}}},{key:"ngOnInit",value:function(){var e=this;this.title=this.texts.defaultTitle||"",this.filterControl.valueChanges.pipe(Object(a.a)(this.destroyed$)).subscribe(function(){e.updateRenderItems(),e.settings.isLazyLoad&&e.load()})}},{key:"ngOnChanges",value:function(e){var t=this;if(e.options){if(this.options=this.options||[],this.parents=this.options.filter(function(e){return"number"==typeof e.parentId}).map(function(e){return e.parentId}),this.updateRenderItems(),this.settings.isLazyLoad&&this.settings.selectAddedValues&&0===this.loadedValueIds.length&&(this.loadedValueIds=this.loadedValueIds.concat(e.options.currentValue.map(function(e){return e.id}))),this.settings.isLazyLoad&&this.settings.selectAddedValues&&e.options.previousValue){var i=e.options.currentValue.filter(function(e){return-1===t.loadedValueIds.indexOf(e.id)});this.loadedValueIds.concat(i.map(function(e){return e.id})),this.checkAllStatus?this.addChecks(i):this.checkAllSearchRegister.size>0&&this.checkAllSearchRegister.forEach(function(e){return t.addChecks(t.applyFilters(i,e))})}this.texts&&this.updateTitle(),this.fireModelChange()}e.settings&&(this.settings=Object.assign({},this.defaultSettings,this.settings)),e.texts&&(this.texts=Object.assign({},this.defaultTexts,this.texts),e.texts.isFirstChange()||this.updateTitle())}},{key:"ngOnDestroy",value:function(){this.destroyed$.next()}},{key:"updateRenderItems",value:function(){this.renderItems=!this.searchLimitApplied||this.filterControl.value.length>=this.searchRenderAfter,this.filteredOptions=this.applyFilters(this.options,this.settings.isLazyLoad?"":this.filterControl.value),this.renderFilteredOptions=this.renderItems?this.filteredOptions:[],this.focusedItem=void 0}},{key:"applyFilters",value:function(e,t){return this.searchFilter.transform(e,t,this.settings.searchMaxLimit,this.settings.searchMaxRenderedItems,this.searchFunction)}},{key:"fireModelChange",value:function(){this.model!=this.prevModel&&(this.prevModel=this.model,this.onModelChange(this.model),this.onModelTouched(),this.cdRef.markForCheck())}},{key:"writeValue",value:function(e){null!=e?(this.model=Array.isArray(e)?e:[e],this.ngDoCheck()):this.model=[]}},{key:"registerOnChange",value:function(e){this.onModelChange=e}},{key:"registerOnTouched",value:function(e){this.onModelTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"ngDoCheck",value:function(){this.differ.diff(this.model)&&(this.updateNumSelected(),this.updateTitle())}},{key:"validate",value:function(e){var t=this;return this.model&&this.model.length?{required:{valid:!1}}:0===this.options.filter(function(e){return t.model.indexOf(e.id)&&!e.disabled}).length?{selection:{valid:!1}}:null}},{key:"registerOnValidatorChange",value:function(e){throw new Error("Method not implemented.")}},{key:"clearSearch",value:function(e){this.maybeStopPropagation(e),this.filterControl.setValue("")}},{key:"toggleDropdown",value:function(e){this.isVisible&&(this._focusBack=!0),this.isVisible=!this.isVisible,this.isVisible?this.dropdownOpened.emit():this.dropdownClosed.emit(),this.focusedItem=void 0}},{key:"closeDropdown",value:function(e){this.isVisible=!0,this.toggleDropdown(e)}},{key:"isSelected",value:function(e){return this.model&&this.model.indexOf(e.id)>-1}},{key:"setSelected",value:function(e,t){var i=this;t.isLabel||t.disabled||this.disabledSelection||setTimeout(function(){i.maybeStopPropagation(e),i.maybePreventDefault(e);var n=i.model.indexOf(t.id),s=i.settings.selectionLimit>0&&i.model.length>=i.settings.selectionLimit,c=function(e,t){i.model.splice(e,1),i.onRemoved.emit(t),i.settings.isLazyLoad&&i.lazyLoadOptions.some(function(e){return e.id===t})&&i.lazyLoadOptions.splice(i.lazyLoadOptions.indexOf(i.lazyLoadOptions.find(function(e){return e.id===t})),1)};if(n>-1){(void 0===i.settings.minSelectionLimit||i.numSelected>i.settings.minSelectionLimit)&&c(n,t.id);var o=t.parentId&&i.model.indexOf(t.parentId);o>-1?c(o,t.parentId):i.parents.indexOf(t.id)>-1&&i.options.filter(function(e){return i.model.indexOf(e.id)>-1&&e.parentId===t.id}).forEach(function(e){return c(i.model.indexOf(e.id),e.id)})}else{if(s&&!i.settings.autoUnselect)return void i.selectionLimitReached.emit(i.model.length);var l=function(e){i.model.push(e),i.onAdded.emit(e),i.settings.isLazyLoad&&!i.lazyLoadOptions.some(function(t){return t.id===e})&&i.lazyLoadOptions.push(t)};l(t.id),s?c(0,i.model[0]):t.parentId&&!i.settings.ignoreLabels?i.options.filter(function(e){return e.id!==t.id&&e.parentId===t.parentId}).every(function(e){return i.model.indexOf(e.id)>-1})&&l(t.parentId):i.parents.indexOf(t.id)>-1&&i.options.filter(function(e){return i.model.indexOf(e.id)<0&&e.parentId===t.id}).forEach(function(e){return l(e.id)})}i.settings.closeOnSelect&&i.toggleDropdown(),i.model=i.model.slice(),i.fireModelChange()},0)}},{key:"updateNumSelected",value:function(){var e=this;this.numSelected=this.model.filter(function(t){return e.parents.indexOf(t)<0}).length||0}},{key:"updateTitle",value:function(){var e=this,t=this.options.length;if(this.settings.ignoreLabels&&(t=this.options.filter(function(e){return!e.isLabel}).length),0===this.numSelected||this.settings.fixedTitle)this.title=this.texts?this.texts.defaultTitle:"";else if(this.settings.displayAllSelectedText&&this.model.length===t)this.title=this.texts?this.texts.allSelected:"";else if(this.settings.dynamicTitleMaxItems&&this.settings.dynamicTitleMaxItems>=this.numSelected){var i,n=this.settings.isLazyLoad&&this.lazyLoadOptions.length?this.lazyLoadOptions:this.options;if(this.settings.maintainSelectionOrderInTitle){var s=n.map(function(e,t){return e.id});i=this.model.map(function(e){return s.indexOf(e)}).filter(function(e){return e>-1}).map(function(e){return n[e]})}else i=n.filter(function(t){return e.model.indexOf(t.id)>-1});this.title=i.map(function(e){return e.name}).join(", ")}else this.title=this.numSelected+" "+(1===this.numSelected?this.texts.checked:this.texts.checkedPlural);this.cdRef.markForCheck()}},{key:"searchFilterApplied",value:function(){return this.settings.enableSearch&&this.filterControl.value&&this.filterControl.value.length>0}},{key:"addChecks",value:function(e){var t=this,i=e.filter(function(e){return!(e.disabled||-1!==t.model.indexOf(e.id)||t.settings.ignoreLabels&&e.isLabel||(t.onAdded.emit(e.id),0))}).map(function(e){return e.id});this.model=this.model.concat(i)}},{key:"checkAll",value:function(){this.disabledSelection||(this.addChecks(this.searchFilterApplied()?this.filteredOptions:this.options),this.settings.isLazyLoad&&this.settings.selectAddedValues&&(this.searchFilterApplied()&&!this.checkAllStatus?this.checkAllSearchRegister.add(this.filterControl.value):(this.checkAllSearchRegister.clear(),this.checkAllStatus=!0),this.load()),this.fireModelChange())}},{key:"uncheckAll",value:function(){var e=this;if(!this.disabledSelection){var t=this.model,i=this.searchFilterApplied()?this.filteredOptions.map(function(e){return e.id}):this.model;i=t.filter(function(e){return i.indexOf(e)>-1}),this.model=this.model.filter(function(t){return i.indexOf(t)<0&&void 0===e.settings.minSelectionLimit||i.indexOf(t)<e.settings.minSelectionLimit||(e.onRemoved.emit(t),!1)}),this.settings.isLazyLoad&&this.settings.selectAddedValues&&(this.searchFilterApplied()?this.checkAllSearchRegister.has(this.filterControl.value)&&(this.checkAllSearchRegister.delete(this.filterControl.value),this.checkAllSearchRegister.forEach(function(e){var t=this.applyFilters(this.options.filter(function(e){return i.indexOf(e.id)>-1}),e);this.addChecks(t)})):(this.checkAllSearchRegister.clear(),this.checkAllStatus=!1),this.load()),this.fireModelChange()}}},{key:"preventCheckboxCheck",value:function(e,t){(t.disabled||this.settings.selectionLimit&&!this.settings.autoUnselect&&this.model.length>=this.settings.selectionLimit&&-1===this.model.indexOf(t.id)&&this.maybePreventDefault(e))&&this.maybePreventDefault(e)}},{key:"isCheckboxDisabled",value:function(e){return this.disabledSelection||e&&e.disabled}},{key:"checkScrollPosition",value:function(e){e.target.scrollTop>=e.target.scrollHeight-(1+this.settings.loadViewDistance)*e.target.clientHeight-1-1&&this.load()}},{key:"checkScrollPropagation",value:function(e,t){var i=t.scrollTop;(e.deltaY>0&&i+t.clientHeight>=t.scrollHeight||e.deltaY<0&&i<=0)&&(e=e||window.event,this.maybePreventDefault(e),e.returnValue=!1)}},{key:"trackById",value:function(e,t){return t.id}},{key:"load",value:function(){this.onLazyLoad.emit({length:this.options.length,filter:this.filterControl.value,checkAllSearches:this.checkAllSearchRegister,checkAllStatus:this.checkAllStatus})}},{key:"focusItem",value:function(e,t){if(this.isVisible){this.maybePreventDefault(t);var i=this.filteredOptions.indexOf(this.focusedItem);if(-1!==i){var n=i+e;this.focusedItem=this.filteredOptions[n<0?this.filteredOptions.length-1:n%this.filteredOptions.length]}else this.focusedItem=this.filteredOptions[0]}}},{key:"maybePreventDefault",value:function(e){e&&e.preventDefault&&e.preventDefault()}},{key:"maybeStopPropagation",value:function(e){e&&e.stopPropagation&&e.stopPropagation()}},{key:"_escapeRegExp",value:function(e){var t=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");return new RegExp(t,"i")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Vb(o.o),o.Vb(l.c),o.Vb(T),o.Vb(o.z),o.Vb(o.h))},e.\u0275cmp=o.Pb({type:e,selectors:[["ss-multiselect-dropdown"]],inputs:{disabled:"disabled",disabledSelection:"disabledSelection",searchFunction:"searchFunction",settings:"settings",texts:"texts",options:"options"},outputs:{selectionLimitReached:"selectionLimitReached",dropdownClosed:"dropdownClosed",dropdownOpened:"dropdownOpened",onAdded:"onAdded",onRemoved:"onRemoved",onLazyLoad:"onLazyLoad",onFilter:"onFilter"},features:[o.Ib([P,T]),o.Hb],decls:5,vars:8,consts:[[1,"dropdown",3,"ngClass","offClick"],["type","button",1,"dropdown-toggle",3,"ngClass","disabled","ssAutofocus","click"],[1,"caret"],["class","dropdown-menu","style","display: block; height: auto; overflow-y: auto;",3,"ngClass","pull-right","dropdown-menu-right","max-height","scroll","wheel","keydown.tab","keydown.shift.tab",4,"ngIf"],[1,"dropdown-menu",2,"display","block","height","auto","overflow-y","auto",3,"ngClass","scroll","wheel","keydown.tab","keydown.shift.tab"],["scroller",""],["class","input-group search-container",4,"ngIf"],["role","menuitem","href","javascript:;","tabindex","-1","class","dropdown-item check-control check-control-check",3,"click",4,"ngIf"],["role","menuitem","href","javascript:;","tabindex","-1","class","dropdown-item check-control check-control-uncheck",3,"click",4,"ngIf"],["href","javascript:;","class","dropdown-divider divider",4,"ngIf"],["href","javascript:;","class","dropdown-item empty",4,"ngIf"],["class","dropdown-item","href","javascript:;","tabindex","-1",3,"active","ngStyle","ngClass","dropdown-header","ssAutofocus","click","keydown.space","keydown.enter",4,"ngFor","ngForOf","ngForTrackBy"],[1,"input-group","search-container"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text"],["aria-hidden","true",1,"fa","fa-search"],["type","text","ssAutofocus","",1,"form-control",3,"formControl","placeholder"],["class","input-group-append",4,"ngIf"],[1,"input-group-append"],["type","button",1,"btn","btn-default","btn-secondary",3,"click"],[1,"fa","fa-times"],["role","menuitem","href","javascript:;","tabindex","-1",1,"dropdown-item","check-control","check-control-check",3,"click"],[2,"width","16px"],[3,"ngClass"],["role","menuitem","href","javascript:;","tabindex","-1",1,"dropdown-item","check-control","check-control-uncheck",3,"click"],["href","javascript:;",1,"dropdown-divider","divider"],["href","javascript:;",1,"dropdown-item","empty"],["href","javascript:;","tabindex","-1",1,"dropdown-item",3,"ngStyle","ngClass","ssAutofocus","click","keydown.space","keydown.enter"],["role","menuitem","tabindex","-1",3,"padding-left","ngStyle",4,"ngIf","ngIfElse"],["label",""],["role","menuitem","tabindex","-1",3,"ngStyle"],[3,"ngSwitch"],["type","checkbox",3,"checked","disabled","ngStyle","click",4,"ngSwitchCase"],["style","width: 16px;","class","glyphicon",3,"glyphicon-ok","glyphicon-lock",4,"ngSwitchCase"],["style","width: 16px;display: inline-block;",4,"ngSwitchCase"],["style","display:block;float:left; border-radius: 0.2em; border: 0.1em solid rgba(44, 44, 44, 0.63);background:rgba(0, 0, 0, 0.1);width: 5.5em;",4,"ngSwitchCase"],["type","checkbox",3,"checked","disabled","ngStyle","click"],[1,"glyphicon",2,"width","16px"],[2,"width","16px","display","inline-block"],[4,"ngIf"],["aria-hidden","true",1,"fa","fa-check"],["aria-hidden","true",1,"fa","fa-lock"],[2,"display","block","float","left","border-radius","0.2em","border","0.1em solid rgba(44, 44, 44, 0.63)","background","rgba(0, 0, 0, 0.1)","width","5.5em"],[1,"slider",3,"ngClass"],["style","height: 100%; width: 100%; object-fit: contain",3,"src",4,"ngIf"],["style","height: 100%; width: 100%;text-align: center; display: table; background-color:rgba(0, 0, 0, 0.74)",4,"ngIf"],[2,"height","100%","width","100%","object-fit","contain",3,"src"],[2,"height","100%","width","100%","text-align","center","display","table","background-color","rgba(0, 0, 0, 0.74)"],[1,"content_wrapper"],[1,"glyphicon","glyphicon-eye-close",2,"font-size","3em","color","white"]],template:function(e,t){1&e&&(o.bc(0,"div",0),o.ic("offClick",function(){return t.clickedOutside()}),o.bc(1,"button",1),o.ic("click",function(e){return t.toggleDropdown(e)}),o.Mc(2),o.Wb(3,"span",2),o.ac(),o.Kc(4,J,9,17,"div",3),o.ac()),2&e&&(o.Nb("open",t.isVisible),o.qc("ngClass",t.settings.containerClasses),o.Jb(1),o.qc("ngClass",t.settings.buttonClasses)("disabled",t.disabled)("ssAutofocus",!t.focusBack),o.Jb(1),o.Oc(" ",t.title," "),o.Jb(2),o.qc("ngIf",t.isVisible))},directives:function(){return[d.k,E,D,d.m,d.l,l.b,l.k,l.d,d.n,d.o,d.p]},styles:["a[_ngcontent-%COMP%]{outline:0!important}.dropdown-inline[_ngcontent-%COMP%]{display:inline-block}.dropdown-toggle[_ngcontent-%COMP%]   .caret[_ngcontent-%COMP%]{margin-left:4px;white-space:nowrap;display:inline-block}.chunkydropdown-menu[_ngcontent-%COMP%]{min-width:20em}.chunkyrow[_ngcontent-%COMP%]{line-height:2;margin-left:1em;font-size:2em}.slider[_ngcontent-%COMP%]{width:3.8em;height:3.8em;display:block;transition:all 125ms linear;margin-left:.125em;margin-top:auto}.slideron[_ngcontent-%COMP%]{margin-left:1.35em}.content_wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.search-container[_ngcontent-%COMP%]{padding:0 5px 5px}"],changeDetection:0}),e}(),E=function(){var e=function(){function e(){i(this,e),this.onOffClick=new o.q}return s(e,[{key:"onClick",value:function(e){this._clickEvent=e}},{key:"onTouch",value:function(e){this._touchEvent=e}},{key:"onDocumentClick",value:function(e){e!==this._clickEvent&&this.onOffClick.emit(e)}},{key:"onDocumentTouch",value:function(e){e!==this._touchEvent&&this.onOffClick.emit(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=o.Qb({type:e,selectors:[["","offClick",""]],hostBindings:function(e,t){1&e&&o.ic("click",function(e){return t.onClick(e)})("touchstart",function(e){return t.onTouch(e)})("click",function(e){return t.onDocumentClick(e)},!1,o.Cc)("touchstart",function(e){return t.onDocumentTouch(e)},!1,o.Cc)},outputs:{onOffClick:"offClick"}}),e}(),z=function(){var e=function e(){i(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Tb({type:e}),e.\u0275inj=o.Sb({imports:[[d.c,l.r]]}),e}()}}])}();